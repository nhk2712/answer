if (self.CavalryLogger) { CavalryLogger.start_js(["jEsywtc"]); }

__d("XBizSuiteControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/latest/{?*rest}",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCustomerChatInjectionDialogControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/customer_chat/dialog/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XPagesManagerSettingsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{page_token}/settings/",Object.freeze({shimmed_in_item:!1,show_cc_dialog:!1,chat_plugin_step:0,show_sync_dialog:!1}),void 0);b=a;g["default"]=b}),98);
__d("ChatPluginSetupFlowE2ETestUtils",["XBizSuiteControllerRouteBuilder","XCometPageVanityInboxControllerRouteBuilder","XCustomerChatInjectionDialogControllerRouteBuilder","XPagesManagerSettingsControllerRouteBuilder","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=8959;d=8960;e=9233;f=9339;var h="chat-plugin-setup-flow-container",i="create-code-button",aa="setup-modal",ba="setup-choice-modal",j="locale-selector",ca="setup-method-button-",k="setup-modal-next-button",l="setup-modal-add-domain-button",m="setup-modal-new-domain-input",n="setup-modal-copy-code-button",o="setup-modal-email-instructions-link",p="setup-modal-email-recipients-input",q="setup-modal-send-email-next-button",da="no-domains-main-panel-error",ea="domains-list-text",fa="edit-domains-modal",r="edit-domains-button",s="edit-domains-save-button",ga="setup-google-tag-manager-locale",t="automation-section",u="automation-section-container",v="automation-welcome-message-toggle",w="automation-welcome-message-input",x="automation-welcome-message-edit-button",y="automation-welcome-message-collapse-button",z="automation-faq-toggle",A="automation-faq-entry-question-input-",B="automation-faq-entry-response-input-",C="automation-faq-entry-edit-button-",D="automation-faq-entry-collapse-button-",E="automation-faq-entry-delete-button-",F="automation-faq-add-button",G="customization-section",H="customization-section-container",I="customization-greeting-edit-button",J="customization-greeting-collapse-button",K="customization-greeting-input",L="customization-guest-mode-toggle",M="customization-theme-color-toggle",N="customization-theme-color-list-item",O="customization-theme-color-input",ha="customization-theme-color-warning-notice",P="customization-alignment-selector",Q="customization-desktop-bottom-spacing-input",R="customization-mobile-bottom-spacing-input",S="customization-desktop-side-spacing-input",T="customization-mobile-side-spacing-input",U="customization-auto-expand-toggle",ia="customization-mobile-optin",V="publish-button",ja="publish-toast",ka="preview-tab-desktop-button",la="preview-tab-mobile-button",ma="preview-desktop-frame",na="preview-mobile-frame",oa="preview-messenger-icon-button",pa="preview-desktop-thread-page-container",qa="preview-thread-page-close-button",ra="preview-mobile-thread-page-container",sa="preview-desktop-welcome-page-modal-container",ta="preview-desktop-welcome-page-modal-close-button",ua="preview-mobile-welcome-page-modal-container",va="preview-mobile-welcome-page-modal-close-button",W="nux-welcome-modal-container",X="nux-step-setup-container",Y="nux-step-automation-container",Z="nux-step-customization-container",$="nux-step-publish-container",wa="wordpress-setup-page-selector",xa="wordpress-setup-continue-button",ya=function(a){return"wordpress-setup-page-selector-option-"+a},za="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eu felis eget nulla scelerisque sodales. Sed orci dolor, laoreet dictum neque vel, scelerisque ullamcorper nibh. Curabitur interdum mauris sit amet mauris tempor fringilla. Vestibulum semper lorem vitae libero sagittis pulvinar. Donec at arcu at sem euismod convallis. Aenean vitae dui vitae eros laoreet interdum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed porttitor dignissim nibh vitae condimentum.",Aa=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(Da(a));case 2:case"end":return c.stop()}},null,this)},Ba="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eu felis eget nulla scelerisque sodales. Sed orci dolor, laoreet dictum neque vel, scelerisque ullamcorper nibh. Curabitur interdum mauris sit amet mauris tempor fringilla. Vestibulum semper lorem vitae libero sagittis pulvinar. Donec at arcu at sem euismod convallis. Aenean vitae dui vitae eros laoreet interdum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed porttitor dignissim nibh vit",Ca="Lorem ipsum dolor sit amet, consectetur adipi",Da=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(e2e.navigate(c("XBizSuiteControllerRouteBuilder").buildUri({asset_id:a,rest:"inbox/chat_plugin"}),{subdomain:"business"}));case 2:case"end":return d.stop()}},null,this)},Ea=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(e2e.navigate(c("XCometPageVanityInboxControllerRouteBuilder").buildUri({vanity:a,section:"chat_plugin"})));case 2:d.next=4;return b("regeneratorRuntime").awrap(e2e.switchContext({selector:"iframe",target:"iframe"}));case 4:case"end":return d.stop()}},null,this)},Fa=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(e2e.navigate(c("XPagesManagerSettingsControllerRouteBuilder").buildUri({page_token:a,show_cc_dialog:!0,section:"messages",tab:"messaging"})));case 2:d.next=4;return b("regeneratorRuntime").awrap(e2e.switchContext({selector:"iframe",target:"iframe"}));case 4:case"end":return d.stop()}},null,this)},Ga=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(e2e.navigate(c("XCustomerChatInjectionDialogControllerRouteBuilder").buildUri({domain:"https://facebook.com"})));case 2:d.next=4;return b("regeneratorRuntime").awrap(e2e.click(wa));case 4:d.next=6;return b("regeneratorRuntime").awrap(e2e.click(ya(a)));case 6:d.next=8;return b("regeneratorRuntime").awrap(e2e.click(xa));case 8:case"end":return d.stop()}},null,this)},Ha=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(e2e.click(G));case 2:a.next=4;return b("regeneratorRuntime").awrap(expect(H).not.toBePresent());case 4:a.next=6;return b("regeneratorRuntime").awrap(expect(u).toBePresent());case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click(t));case 8:a.next=10;return b("regeneratorRuntime").awrap(expect(H).not.toBePresent());case 10:a.next=12;return b("regeneratorRuntime").awrap(expect(u).toBePresent());case 12:case"end":return a.stop()}},null,this)},Ia=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(e2e.click(G));case 2:a.next=4;return b("regeneratorRuntime").awrap(expect(H).toBePresent());case 4:a.next=6;return b("regeneratorRuntime").awrap(expect(u).not.toBePresent());case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click(t));case 8:a.next=10;return b("regeneratorRuntime").awrap(expect(H).toBePresent());case 10:a.next=12;return b("regeneratorRuntime").awrap(expect(u).not.toBePresent());case 12:case"end":return a.stop()}},null,this)},Ja=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(e2e.click(G));case 2:a.next=4;return b("regeneratorRuntime").awrap(expect(H).toBePresent());case 4:a.next=6;return b("regeneratorRuntime").awrap(expect(u).not.toBePresent());case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click(t));case 8:a.next=10;return b("regeneratorRuntime").awrap(expect(H).not.toBePresent());case 10:a.next=12;return b("regeneratorRuntime").awrap(expect(u).toBePresent());case 12:case"end":return a.stop()}},null,this)},Ka=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(expect(h).toBePresent());case 2:a.next=4;return b("regeneratorRuntime").awrap(e2e.click(i));case 4:a.next=6;return b("regeneratorRuntime").awrap(e2e.click(j));case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click('div:text("Afrikaans")'));case 8:a.next=10;return b("regeneratorRuntime").awrap(e2e.click(k));case 10:a.next=12;return b("regeneratorRuntime").awrap(e2e.type(m,"https://facebook.com"));case 12:a.next=14;return b("regeneratorRuntime").awrap(e2e.keyboard.press("Enter",m));case 14:a.next=16;return b("regeneratorRuntime").awrap(e2e.click(l));case 16:a.next=18;return b("regeneratorRuntime").awrap(e2e.type(m,"https://messenger.com"));case 18:a.next=20;return b("regeneratorRuntime").awrap(e2e.keyboard.press("Enter",m));case 20:a.next=22;return b("regeneratorRuntime").awrap(e2e.click(k));case 22:a.next=24;return b("regeneratorRuntime").awrap(e2e.click(o));case 24:a.next=26;return b("regeneratorRuntime").awrap(e2e.click(p));case 26:a.next=28;return b("regeneratorRuntime").awrap(e2e.type(p,"doesntexist@facebook.com"));case 28:a.next=30;return b("regeneratorRuntime").awrap(e2e.keyboard.press("Enter",p+" input"));case 30:a.next=32;return b("regeneratorRuntime").awrap(e2e.click(q));case 32:a.next=34;return b("regeneratorRuntime").awrap(e2e.click(q));case 34:a.next=36;return b("regeneratorRuntime").awrap(e2e.click(n));case 36:a.next=38;return b("regeneratorRuntime").awrap(e2e.click(k));case 38:a.next=40;return b("regeneratorRuntime").awrap(e2e.click(k));case 40:a.next=42;return b("regeneratorRuntime").awrap(e2e.click(k));case 42:a.next=44;return b("regeneratorRuntime").awrap(e2e.click(r));case 44:a.next=46;return b("regeneratorRuntime").awrap(e2e.click(l));case 46:a.next=48;return b("regeneratorRuntime").awrap(e2e.type(m,"https://instagram.com"));case 48:a.next=50;return b("regeneratorRuntime").awrap(e2e.keyboard.press("Enter",m));case 50:a.next=52;return b("regeneratorRuntime").awrap(e2e.click(s));case 52:case"end":return a.stop()}},null,this)},La=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(expect(h).toBePresent());case 2:a.next=4;return b("regeneratorRuntime").awrap(e2e.click(v));case 4:a.next=6;return b("regeneratorRuntime").awrap(e2e.click(v));case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.type(w,"test"));case 8:a.next=10;return b("regeneratorRuntime").awrap(e2e.click(y));case 10:a.next=12;return b("regeneratorRuntime").awrap(e2e.click(x));case 12:a.next=14;return b("regeneratorRuntime").awrap(e2e.click(F));case 14:a.next=16;return b("regeneratorRuntime").awrap(e2e.type(A+"0","Question 0"));case 16:a.next=18;return b("regeneratorRuntime").awrap(e2e.type(B+"0","Response 0"));case 18:a.next=20;return b("regeneratorRuntime").awrap(e2e.click(D+"0"));case 20:a.next=22;return b("regeneratorRuntime").awrap(e2e.click(C+"0"));case 22:a.next=24;return b("regeneratorRuntime").awrap(e2e.click(E+"0"));case 24:a.next=26;return b("regeneratorRuntime").awrap(e2e.click(F));case 26:a.next=28;return b("regeneratorRuntime").awrap(e2e.type(A+"0","Question 0"));case 28:a.next=30;return b("regeneratorRuntime").awrap(e2e.type(B+"0","Response 0"));case 30:a.next=32;return b("regeneratorRuntime").awrap(e2e.click(F));case 32:a.next=34;return b("regeneratorRuntime").awrap(e2e.type(A+"1","Question 1"));case 34:a.next=36;return b("regeneratorRuntime").awrap(e2e.type(B+"1","Response 1"));case 36:a.next=38;return b("regeneratorRuntime").awrap(e2e.click(z));case 38:a.next=40;return b("regeneratorRuntime").awrap(e2e.click(z));case 40:a.next=42;return b("regeneratorRuntime").awrap(e2e.click(V));case 42:case"end":return a.stop()}},null,this)},Ma=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(expect(h).toBePresent());case 2:a.next=4;return b("regeneratorRuntime").awrap(e2e.click(G));case 4:a.next=6;return b("regeneratorRuntime").awrap(e2e.click(I));case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.type(K,"test"));case 8:a.next=10;return b("regeneratorRuntime").awrap(e2e.click(J));case 10:a.next=12;return b("regeneratorRuntime").awrap(e2e.click(L));case 12:a.next=14;return b("regeneratorRuntime").awrap(e2e.click(M));case 14:a.next=16;return b("regeneratorRuntime").awrap(e2e.click(N));case 16:a.next=18;return b("regeneratorRuntime").awrap(e2e.clear(O));case 18:a.next=20;return b("regeneratorRuntime").awrap(e2e.type(O,"#000000"));case 20:a.next=22;return b("regeneratorRuntime").awrap(e2e.click(P));case 22:a.next=24;return b("regeneratorRuntime").awrap(e2e.click('div:text("Left")'));case 24:a.next=26;return b("regeneratorRuntime").awrap(e2e.clear(Q));case 26:a.next=28;return b("regeneratorRuntime").awrap(e2e.type(Q,"0"));case 28:a.next=30;return b("regeneratorRuntime").awrap(e2e.clear(R));case 30:a.next=32;return b("regeneratorRuntime").awrap(e2e.type(R,"0"));case 32:a.next=34;return b("regeneratorRuntime").awrap(e2e.clear(S));case 34:a.next=36;return b("regeneratorRuntime").awrap(e2e.type(S,"0"));case 36:a.next=38;return b("regeneratorRuntime").awrap(e2e.clear(T));case 38:a.next=40;return b("regeneratorRuntime").awrap(e2e.type(T,"0"));case 40:a.next=42;return b("regeneratorRuntime").awrap(e2e.click(U));case 42:a.next=44;return b("regeneratorRuntime").awrap(e2e.click(ia));case 44:a.next=46;return b("regeneratorRuntime").awrap(e2e.click('div:text("Stay in the Chat Tab")'));case 46:a.next=48;return b("regeneratorRuntime").awrap(e2e.click(V));case 48:case"end":return a.stop()}},null,this)},Na=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(expect(W).toBePresent());case 2:a.next=4;return b("regeneratorRuntime").awrap(e2e.click('em:text("Next")'));case 4:a.next=6;return b("regeneratorRuntime").awrap(expect(X).toBePresent());case 6:a.next=8;return b("regeneratorRuntime").awrap(e2e.click(X+' div:text("Next")'));case 8:a.next=10;return b("regeneratorRuntime").awrap(expect(Y).toBePresent());case 10:a.next=12;return b("regeneratorRuntime").awrap(e2e.click(Y+' div:text("Next")'));case 12:a.next=14;return b("regeneratorRuntime").awrap(expect(Z).toBePresent());case 14:a.next=16;return b("regeneratorRuntime").awrap(e2e.click(Z+' div:text("Next")'));case 16:a.next=18;return b("regeneratorRuntime").awrap(expect($).toBePresent());case 18:a.next=20;return b("regeneratorRuntime").awrap(e2e.click($+' div:text("Done")'));case 20:a.next=22;return b("regeneratorRuntime").awrap(expect(W).not.toBePresent());case 22:a.next=24;return b("regeneratorRuntime").awrap(expect(X).not.toBePresent());case 24:a.next=26;return b("regeneratorRuntime").awrap(expect(Y).not.toBePresent());case 26:a.next=28;return b("regeneratorRuntime").awrap(expect(Z).not.toBePresent());case 28:a.next=30;return b("regeneratorRuntime").awrap(expect($).not.toBePresent());case 30:case"end":return a.stop()}},null,this)};g.FBNUX_ID_PAGE_INBOX=a;g.FBNUX_ID_PAGE_SETTINGS=d;g.FBNUX_ID_WORDPRESS=e;g.FBNUX_ID_FBE_FBS_MV=f;g.SETUP_FLOW_CONTAINER_TEST_ID=h;g.CREATE_CODE_BUTTON_TEST_ID=i;g.SETUP_MODAL_TEST_ID=aa;g.SETUP_CHOICE_MODAL_TEST_ID=ba;g.LOCALE_SELECTOR_TEST_ID=j;g.SETUP_METHOD_BUTTON_TEST_ID_PREFIX=ca;g.SETUP_MODAL_NEXT_BUTTON_TEST_ID=k;g.SETUP_MODAL_ADD_DOMAIN_BUTTON_TEST_ID=l;g.SETUP_MODAL_NEW_DOMAIN_INPUT_TEST_ID=m;g.SETUP_MODAL_COPY_CODE_BUTTON_TEST_ID=n;g.SETUP_MODAL_EMAIL_INSTRUCTIONS_LINK_TEST_ID=o;g.SETUP_MODAL_EMAIL_RECIPIENTS_INPUT_TEST_ID=p;g.SETUP_MODAL_SEND_EMAIL_NEXT_BUTTON_TEST_ID=q;g.NO_DOMAINS_MAIN_PANEL_ERROR_TEST_ID=da;g.DOMAINS_LIST_TEXT_TEST_ID=ea;g.EDIT_DOMAINS_MODAL_TEST_ID=fa;g.EDIT_DOMAINS_BUTTON_TEST_ID=r;g.EDIT_DOMAINS_SAVE_BUTTON_TEST_ID=s;g.SETUP_GTM_LOCALE_TEST_ID=ga;g.AUTOMATION_SECTION_TEST_ID=t;g.AUTOMATION_SECTION_CONTAINER_TEST_ID=u;g.AUTOMATION_WELCOME_MESSAGE_TOGGLE_TEST_ID=v;g.AUTOMATION_WELCOME_MESSAGE_INPUT_TEST_ID=w;g.AUTOMATION_WELCOME_MESSAGE_EDIT_BUTTON_TEST_ID=x;g.AUTOMATION_WELCOME_MESSAGE_COLLAPSE_BUTTON_TEST_ID=y;g.AUTOMATION_FAQ_TOGGLE_TEST_ID=z;g.AUTOMATION_FAQ_ENTRY_QUESTION_INPUT_TEST_ID_PREFIX=A;g.AUTOMATION_FAQ_ENTRY_RESPONSE_INPUT_TEST_ID_PREFIX=B;g.AUTOMATION_FAQ_ENTRY_EDIT_BUTTON_TEST_ID_PREFIX=C;g.AUTOMATION_FAQ_ENTRY_COLLAPSE_BUTTON_TEST_ID_PREFIX=D;g.AUTOMATION_FAQ_ENTRY_DELETE_BUTTON_TEST_ID_PREFIX=E;g.AUTOMATION_FAQ_ADD_BUTTON_TEST_ID=F;g.CUSTOMIZATION_SECTION_TEST_ID=G;g.CUSTOMIZATION_SECTION_CONTAINER_TEST_ID=H;g.CUSTOMIZATION_GREETING_EDIT_BUTTON_TEST_ID=I;g.CUSTOMIZATION_GREETING_COLLAPSE_BUTTON_TEST_ID=J;g.CUSTOMIZATION_GREETING_INPUT_TEST_ID=K;g.CUSTOMIZATION_GUEST_MODE_TOGGLE_TEST_ID=L;g.CUSTOMIZATION_THEME_COLOR_TOGGLE_TEST_ID=M;g.CUSTOMIZATION_THEME_COLOR_LIST_ITEM_TEST_ID=N;g.CUSTOMIZATION_THEME_COLOR_INPUT_TEST_ID=O;g.CUSTOMIZATION_THEME_COLOR_WARNING_NOTICE_TEST_ID=ha;g.CUSTOMIZATION_ALIGNMENT_SELECTOR_TEST_ID=P;g.CUSTOMIZATION_DESKTOP_BOTTOM_SPACING_INPUT_TEST_ID=Q;g.CUSTOMIZATION_MOBILE_BOTTOM_SPACING_INPUT_TEST_ID=R;g.CUSTOMIZATION_DESKTOP_SIDE_SPACING_INPUT_TEST_ID=S;g.CUSTOMIZATION_MOBILE_SIDE_SPACING_INPUT_TEST_ID=T;g.CUSTOMIZATION_AUTO_EXPAND_TOGGLE_TEST_ID=U;g.CUSTOMIZATION_MOBILE_OPTIN_TEST_ID=ia;g.PUBLISH_BUTTON_TEST_ID=V;g.PUBLISH_TOAST_TEST_ID=ja;g.PREVIEW_TAB_DESKTOP_BUTTON_TEST_ID=ka;g.PREVIEW_TAB_MOBILE_BUTTON_TEST_ID=la;g.PREVIEW_DESKTOP_FRAME_TEST_ID=ma;g.PREVIEW_MOBILE_FRAME_TEST_ID=na;g.PREVIEW_MESSENGER_ICON_BUTTON_TEST_ID=oa;g.PREVIEW_DESKTOP_THREAD_PAGE_CONTAINER_TEST_ID=pa;g.PREVIEW_THREAD_PAGE_CLOSE_BUTTON_TEST_ID=qa;g.PREVIEW_MOBILE_THREAD_PAGE_CONTAINER_TEST_ID=ra;g.PREVIEW_DESKTOP_WELCOME_PAGE_MODAL_CONTAINER_TEST_ID=sa;g.PREVIEW_DESKTOP_WELCOME_PAGE_MODAL_CLOSE_BUTTON_TEST_ID=ta;g.PREVIEW_MOBILE_WELCOME_PAGE_MODAL_CONTAINER_TEST_ID=ua;g.PREVIEW_MOBILE_WELCOME_PAGE_MODAL_CLOSE_BUTTON_TEST_ID=va;g.NUX_WELCOME_MODAL_CONTAINER_TEST_ID=W;g.NUX_STEP_SETUP_CONTAINER_TEST_ID=X;g.NUX_STEP_AUTOMATION_CONTAINER_TEST_ID=Y;g.NUX_STEP_CUSTOMIZATION_CONTAINER_TEST_ID=Z;g.NUX_STEP_PUBLISH_CONTAINER_TEST_ID=$;g.WORDPRESS_SETUP_PAGE_SELECTOR_TEST_ID=wa;g.WORDPRESS_SETUP_CONTINUE_BUTTON_TEST_ID=xa;g.getWordpressSetupPageSelectorOptionTestID=ya;g.LONG_TEXT=za;g.navigateToTestSite=Aa;g.LONG_TEXT_500_CHAR=Ba;g.LONG_TEXT_45_CHAR=Ca;g.navigateToChatPluginSetupBusinessInbox=Da;g.navigateToChatPluginSetupPageInbox=Ea;g.navigateToChatPluginSetupPageSettings=Fa;g.navigateToChatPluginSetupWordpress=Ga;g.verifyAutomationSectionToggleIsDisabled=Ha;g.verifyCustomizationSectionToggleIsDisabled=Ia;g.verifySectionsCanBeToggled=Ja;g.performDomainSetupFlow=Ka;g.performAutomationSetupFlow=La;g.performCustomizationSetupFlow=Ma;g.performNUXFlow=Na}),98);
__d("MPNBlockedPageComposer.react",["cx","fbt","MessagingPluginContext","MessagingPluginThreadActions","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(){var a=k(c("MessagingPluginContext"));return j.jsx("div",{className:"_94wl",children:j.jsxs("div",{className:"_94wm",children:[j.jsx("div",{children:i._("B\u1ea1n \u0111\u00e3 t\u1eaft tin nh\u1eafn cho {pageName}",[i._param("pageName",a.state.pageName)])}),i._("B\u1ea1n kh\u00f4ng th\u1ec3 nh\u1eafn tin cho h\u1ecd v\u00e0 c\u0169ng kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn c\u1ee7a h\u1ecd."),j.jsx(c("ShimButton.react"),{className:"_94wo",onClick:function(){d("MessagingPluginThreadActions").blockOrUnblockPage(a)},children:j.jsx("div",{className:"_94wp",children:i._("B\u1eadt tin nh\u1eafn")})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopBotMenuDialog.react",["cx","AsyncRequest","CometMenu.react","CometMenuItem.react","LiveChatPluginLoggerUtil","MNCommercePostbackCTADataManager","MPNIdentity","MercuryIDs","MessagingPluginContext","URI","XMNMessagingPluginActiveSessionController","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.state={navigationPath:[]};b.$1=d("LiveChatPluginLoggerUtil").getAttributionTags();b.$2=d("MercuryIDs").getThreadIDFromUserID(b.context.state.pageID);b.$3=d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB;return b}var e=b.prototype;e.render=function(){var a=this,b=[],d=this.props.menuItems;for(var e=0;e<this.state.navigationPath.length;e++){var f=this.state.navigationPath[e];d!=null&&(d=d[f].nested_ctas)}d&&d.map(function(d,c){switch(d.action_type){case 4:a.$4(d,b);break;case 2:a.$5(d,b);break;case 11:a.$6(d,c,b);break;default:b.push({menuItemProps:{primaryText:d.title||""}});break}});return i.jsx("div",{className:"_968x",children:i.jsx(c("CometMenu.react"),{size:"full",withArrow:!0,children:b.map(function(b,a){return i.createElement(c("CometMenuItem.react"),babelHelpers["extends"]({},b.menuItemProps,{key:a}))})})})};e.$5=function(a,b){var e=this.context.state.pageID,f=function(b){c("URI").goURIOnNewWindow(a.action_link||"");b=d("MPNIdentity").MPNIdentity.currentUserID();d("LiveChatPluginLoggerUtil").logActionUsingFalco(b,e,d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab","customer_chat_bot_menu_url_redirect_clicked")};b.push({menuItemProps:{onClick:f,primaryText:a.title||""}})};e.$6=function(a,b,c){var d=this,e=function(a){d.setState(function(a){return{navigationPath:a.navigationPath.concat(b)}})};c.push({menuItemProps:{onClick:e,primaryText:a.title||""}})};e.$4=function(a,b){var e=this,f=this.context.state,g=f.pageID,h=f.locale,i=f.refererUri;f=function(b){b=d("MPNIdentity").MPNIdentity.currentUserState();var f=d("MPNIdentity").MPNIdentity.currentUserID();if(b!==d("MPNIdentity").MPNIdentityState.GUEST&&b!==d("MPNIdentity").MPNIdentityState.FB)return;else if(b===d("MPNIdentity").MPNIdentityState.FB&&!c("gkx")("1422")){if(f!=null){b=c("XMNMessagingPluginActiveSessionController").getURIBuilder().setFBID("page_id",g).setFBID("user_id",f).setString("locale",h).setString("referer_uri",i).getURI();new(c("AsyncRequest"))().setURI(b).setHandler(function(b){c("MNCommercePostbackCTADataManager").sendAndConfirm(a.id||"",a.title||"",e.$2,null,null,null,e.$1,null,null,"source:discovery:customer_chat_plugin")}).send()}}else{b=e.context.state.messageStore;b=b.sendQueue;if(!b)return;b.enqueueAndSend(a.title||"",e.$3,h,i,b.makePlatformTokenForPostbackCTA(a.id||""))}d("LiveChatPluginLoggerUtil").logActionUsingFalco(f,g,d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab","customer_chat_bot_menu_postback_clicked")};b.push({menuItemProps:{onClick:f,primaryText:a.title||""}})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopBotMenuButton.react",["cx","fbt","AsyncRequest","BasePopoverTrigger.react","CometPressable.react","LiveChatPluginConstants","LiveChatPluginGuestPersistentMenuQuery","LiveChatPluginLoggerUtil","LiveChatPluginSendButtonSVG.react","MPNBotMenuButtonSVG.react","MPNDesktopBotMenuDialog.react","MPNIdentity","MPNLocalState","MPNStorage","MessagingPluginContext","XMessengerBotsMenuController","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={menuItems:null},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.UNSAFE_componentWillMount=function(){this.state.menuItems==null&&this.$2()};e.componentDidUpdate=function(){this.state.menuItems==null&&this.context.state.accessToken&&this.$2()};e.componentWillUnmount=function(){this.$1&&(this.$1.abort(),this.$1=null),this.setState(this.$3(!1))};e.render=function(){var a=this,b=this.context.state,e=b.hasActiveAutomation,f=b.hasPersistentMenu,g=b.threadCSSColor;return e||!f||!this.state.menuItems||this.state.menuItems.length===0?j.jsx("div",{className:" _95jk _95ms",children:j.jsx(c("LiveChatPluginSendButtonSVG.react"),{threadColor:d("LiveChatPluginConstants").GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT})}):j.jsx(c("BasePopoverTrigger.react"),{popover:c("MPNDesktopBotMenuDialog.react"),popoverProps:{menuItems:this.state.menuItems},children:function(b,d){return j.jsx("div",{ref:b,children:j.jsx("div",{className:"_94vq _9r2w",children:j.jsx(c("CometPressable.react"),{overlayRadius:50,"aria-label":i._("Menu c\u1ed1 \u0111\u1ecbnh"),onPress:function(){a.$4(),d()},children:j.jsx(c("MPNBotMenuButtonSVG.react"),{threadColor:g})})})})}})};e.$2=function(){var a=this,b=this.context,e=b.state,f=b.dispatchAction;b=e.pageID;e=c("MPNStorage").getFBStorageState();if(!e||e.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED)return;e=d("MPNIdentity").MPNIdentity.currentUserState();switch(e){case d("MPNIdentity").MPNIdentityState.GUEST:e=(e=d("MPNIdentity").MPNIdentity.currentUser())==null?void 0:e.accessToken;if(e==null)return;d("LiveChatPluginGuestPersistentMenuQuery").fetch(b,e,function(b){b!=null&&b.length>0?(a.setState({menuItems:b}),f({type:"TOGGLE_HAS_PERSISTENT_MENU",hasPersistentMenu:!0})):(a.setState({menuItems:[]}),f({type:"TOGGLE_HAS_PERSISTENT_MENU",hasPersistentMenu:!1}))});break;case d("MPNIdentity").MPNIdentityState.FB:e=c("XMessengerBotsMenuController").getURIBuilder().setString("page_id",b).setBool("should_flatten",!0).getURI();this.$1=new(c("AsyncRequest"))().setURI(e).setHandler(function(b){a.setState({menuItems:b.payload.menu})}).setErrorHandler(function(b){a.setState({menuItems:[]})});this.$1.send();break;default:return}};e.$4=function(){this.setState(this.$3(!0)),this.props.onClick()};e.$3=function(a){var b=this.context.state.pageID,c=d("MPNIdentity").MPNIdentity.currentUserID();d("LiveChatPluginLoggerUtil").logActionUsingFalco(c,b,d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab",a?"customer_chat_bot_menu_opened":"customer_chat_bot_menu_closed")};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopProfilePicture.react",["cx","Image.react","MPNConstants","MessagingPluginContext","PrivacyTransparentOverlay.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.context.state,b=a.pageProfilePictureUri;a=a.isBusinessActive;var e=this.props,f=e.className;e=e.greenDotSize;e=e===d("MPNConstants").MPNGreenDotSize.LARGE?"_95lb _97p-":"_95lb _97ot";return i.jsxs(c("PrivacyTransparentOverlay.react"),{children:[i.jsx(c("Image.react"),{className:(f=f)!=null?f:"_95la",src:b}),a?i.jsx("div",{className:e}):null]})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopThreadMenu.react",["cx","fbt","CometMenu.react","CometMenuItem.react","CometSeparatorMenuItem.react","MPNIdentity","MessagingPluginContext","MessagingPluginThreadActions","ODS","URI","gkx","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){var b,e=k(c("MessagingPluginContext")),f=e.state,g=f.pageID,h=f.isPageBlocked,l=f.locale,m=f.showUpgradeUpsellPrompt,n=f.isPageInEU;f=f.isLightswitchEnabledForGuest;var o=d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.GUEST,p=!0;b=(b=e.state.threadExists)!=null?b:!1;!o?p=c("gkx")("1830721"):p=f!==!0;p=p&&!n&&b;p||(o&&f===!0&&d("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_frx_entry_point_blocked_eu_guest"),!o&&!c("gkx")("1830721")&&d("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_frx_entry_point_blocked_eu_fb_user"),n&&d("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_frx_entry_point_blocked_eu_page"));return j.jsx("div",{className:"_968x",children:j.jsxs(c("CometMenu.react"),{size:"full",withArrow:!0,children:[o&&m?j.jsx(c("CometMenuItem.react"),{icon:{src:"/images/web_messenger/app-messenger_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){return a.onUpgrade()},primaryText:i._("Ti\u1ebfp t\u1ee5c trong Messenger")}):null,j.jsx(c("CometMenuItem.react"),{icon:{src:"/images/web_messenger/cross-circle_32-4x.png",style:"square"},onClick:function(){e.dispatchAction({type:"TOGGLE_END_CHAT",showEndChat:!0})},primaryText:i._("K\u1ebft th\u00fac \u0111o\u1ea1n chat")}),!o&&h!=null?j.jsx(c("CometMenuItem.react"),{icon:{src:"/images/web_messenger/message-cross_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){d("MessagingPluginThreadActions").blockOrUnblockPage(e)},primaryText:h?i._("B\u1eadt tin nh\u1eafn"):i._("T\u1eaft tin nh\u1eafn")}):null,o?null:j.jsx(c("CometMenuItem.react"),{icon:a.isMuted?{src:"/images/web_messenger/bell-cross_32-4x.png",style:"square"}:{src:"/images/web_messenger/bell_32-4x.png",style:"square"},iconStyle:"normal",onClick:a.onClickMuteOrUnmute,primaryText:a.isMuted?i._("Unmute Conversation"):i._("T\u1eaft th\u00f4ng b\u00e1o v\u1ec1 cu\u1ed9c tr\u00f2 chuy\u1ec7n")}),p?j.jsx(c("CometMenuItem.react"),{icon:{src:"/images/web_messenger/caution-triangle_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){d("MessagingPluginThreadActions").openFRXPrompt(g,l)},primaryText:i._("C\u00f3 g\u00ec \u0111\u00f3 kh\u00f4ng \u1ed5n")}):null,j.jsx(c("CometSeparatorMenuItem.react"),{}),j.jsx(c("CometMenuItem.react"),{onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/"+g)},primaryText:i._("Truy c\u1eadp Trang Facebook")}),j.jsx(c("CometMenuItem.react"),{onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},primaryText:i._("Th\u00eam Messenger v\u00e0o trang web c\u1ee7a b\u1ea1n")})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopDialogHeader.react",["cx","fbt","Arbiter","BasePopoverTrigger.react","FlexLayout.react","LineClamp.react","LiveChatPluginLoggerUtil","MPNConstants","MPNHeaderActionButton.react","MPNMinusButtonSVG.react","MPNMoreInfoButtonSVG.react","MPNVerifiedBadge.react","MessagingPluginContext","MessagingPluginDesktopProfilePicture.react","MessagingPluginDesktopThreadMenu.react","MessagingPluginThreadActions","QE2Logger","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");c("stylex").inject(".qmqpeqxj{border-top-left-radius:50%}",1,".qmqpeqxj{border-top-right-radius:50%}");c("stylex").inject(".e7u6y3za{border-top-right-radius:50%}",1,".e7u6y3za{border-top-left-radius:50%}");c("stylex").inject(".qwcclf47{border-bottom-right-radius:50%}",1,".qwcclf47{border-bottom-left-radius:50%}");c("stylex").inject(".nmlomj2f{border-bottom-left-radius:50%}",1,".nmlomj2f{border-bottom-right-radius:50%}");c("stylex").inject(".qmqpeqxj{border-top-left-radius:50%}",1,".qmqpeqxj{border-top-right-radius:50%}");c("stylex").inject(".e7u6y3za{border-top-right-radius:50%}",1,".e7u6y3za{border-top-left-radius:50%}");c("stylex").inject(".qwcclf47{border-bottom-right-radius:50%}",1,".qwcclf47{border-bottom-left-radius:50%}");c("stylex").inject(".nmlomj2f{border-bottom-left-radius:50%}",1,".nmlomj2f{border-bottom-right-radius:50%}");c("stylex").inject(".j9a9igkc{width:50px}",1);c("stylex").inject(".hpj0pwwo{font-size:1.0625rem}",1);c("stylex").inject(".igjjae4c{font-weight:bold}",1);c("stylex").inject(".frx9we7d{word-break:break-all}",1);c("stylex").inject(".mov749r8{color:var(--fds-black-alpha-50)}",1);c("stylex").inject(".nfkogyam{font-size:0.8125rem}",1);c("stylex").inject(".lcfup58g{padding-left:4px}",1,".lcfup58g{padding-right:4px}");c("stylex").inject(".om3e55n1{position:relative}",1);c("stylex").inject(".iy1nols1{top:-1px}",1);c("stylex").inject(".ngbj85sm{padding-top:2px}",1);a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=null,c.state={isMuted:c.context.state.isMuted},c.$3=function(){var a=c.context.state,b=a.guestID;a=a.pageID;c.$1=d("MessagingPluginThreadActions").launchUpgradeFlowDesktop(c.context,c.props.history,d("MPNConstants").MPNUpgradePrompt.CONTINUE_IN_MESSENGER);d("LiveChatPluginLoggerUtil").logActionUsingFalco(b,a,"guest_chat_tab",d("MPNConstants").MPNUpgradePrompt.CONTINUE_IN_MESSENGER)},c.$2=function(){var a=c.state.isMuted;d("MessagingPluginThreadActions").muteOrUnmutePage(c.context.state.pageID,a);c.setState({isMuted:!a})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentWillUnmount=function(){this.$1&&c("Arbiter").unsubscribe(this.$1)};e.componentDidMount=function(){var a=this.context.state,b=a.pageID;a=a.pageResponsiveness;a!=null&&d("QE2Logger").logExposureForPage("chat_plugin_thread_header_responsiveness_text",b.toString())};e.render=function(){var a=this,b=this.context.state,e=b.pageName,f=b.pageVerifiedStatus,g=b.pageResponsiveness,h=b.showGuestUpgradePopover;b=b.shouldShowThreadHeaderResponsivenessText;var k=this.props.menuEnabled!==!1,l=this.context.state.optimisticStorageState.showUpgradePrompt!=null&&this.context.state.optimisticStorageState.showUpgradePrompt!==d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN;b=g!=null&&b===!0;return j.jsxs("div",{className:(b?"":"_9dxj")+(b?" _9u6j":"")+(!l&&!h?" _9gop":""),children:[b?j.jsx("div",{className:"j9a9igkc nmlomj2f qwcclf47 e7u6y3za qmqpeqxj",children:j.jsx(c("MessagingPluginDesktopProfilePicture.react"),{className:"_9u5v"})}):j.jsx("div",{className:"nmlomj2f qwcclf47 e7u6y3za qmqpeqxj",children:j.jsx(c("MessagingPluginDesktopProfilePicture.react"),{})}),j.jsxs("div",{className:"_9dxi",children:[j.jsxs(c("FlexLayout.react"),{align:"center",children:[j.jsx(c("LineClamp.react"),{className:"frx9we7d igjjae4c hpj0pwwo",lines:1,children:j.jsx("strong",{children:e})}),f&&f!=="not_verified"?j.jsx("span",{className:"iy1nols1 om3e55n1 lcfup58g",children:j.jsx(c("MPNVerifiedBadge.react"),{verificationStatus:f,size:14})}):null]}),j.jsx(c("LineClamp.react"),{className:"nfkogyam mov749r8",lines:1,children:i._("Do Messenger cung c\u1ea5p")}),b?j.jsx(c("LineClamp.react"),{className:"nfkogyam mov749r8 ngbj85sm",lines:1,children:g}):null]}),j.jsx("div",{className:"_9dxh"}),j.jsxs("div",{className:"_9dzn",children:[k&&j.jsx(c("BasePopoverTrigger.react"),{popover:c("MessagingPluginDesktopThreadMenu.react"),popoverProps:{history:this.props.history,isMuted:this.state.isMuted,onClickMuteOrUnmute:this.$2,onUpgrade:this.$3},children:function(a,b){return j.jsx("div",{className:"_9r2w",ref:a,children:j.jsx(c("MPNHeaderActionButton.react"),{label:i._("Xem th\u00eam"),onPress:b,children:j.jsx(c("MPNMoreInfoButtonSVG.react"),{})})})}}),j.jsx(c("MPNHeaderActionButton.react"),{label:i._("\u0111\u00f3ng"),onPress:function(){var b;return(b=a.props.ActionDelegate)==null?void 0:b.minimize()},children:j.jsx(c("MPNMinusButtonSVG.react"),{})})]})]})};return b}(j.PureComponent);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopGuestAttachmentButton.react",["cx","MPNConstants","MPNPaperclipIconSVG.react","MPNStorage","MessagingPluginContext","ShimButton.react","Tooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.context.dispatchAction;return i.jsx(c("Tooltip.react"),{tooltip:"Attach Files",children:i.jsx(c("ShimButton.react"),{"data-testid":void 0,className:"_95jj _9jru",onClick:function(){c("MPNStorage").setShowUpgradePrompt(d("MPNConstants").MPNUpgradePrompt.ATTACHMENT_UPSELL),a({type:"UPDATE_UPGRADE_UPSELL_PROMPT",upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.ATTACHMENT_UPSELL})},children:i.jsx(c("MPNPaperclipIconSVG.react"),{color:this.context.state.threadCSSColor})})})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopGuestUpgradeUpsellPrompt.react",["cx","fbt","ix","Arbiter","ChatPluginMessengerBlurpleLogoSVG.react","Image.react","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","MPNConstants","MPNGuestUpgradeFBTStrings","MPNSharedGuestUpgradePromptV2.react","MPNStorage","MessagingPluginContext","MessagingPluginThreadActions","gkx","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentWillUnmount=function(){this.$1&&c("Arbiter").unsubscribe(this.$1)};e.componentDidMount=function(){var a=this.context.state,b=a.pageID;a=a.guestID;d("LiveChatPluginLoggerUtil").logImpressionUsingFalco(b,"upgrade_prompt",null,null,null,null,a,null,this.props.prompt)};e.render=function(){var a=this,b=this.context.state,e=b.useNewUpgradeTriggersWithNewDesign;b=b.useNewUpgradeDesignWithOldTriggers;if(e||b)return k.jsx(c("MPNSharedGuestUpgradePromptV2.react"),{color:this.props.color,prompt:this.props.prompt,history:this.props.history});var f=this.props.prompt;e=d("MPNGuestUpgradeFBTStrings").getPromptTitle(f);b=d("MPNGuestUpgradeFBTStrings").getPromptSubtitle(f,this.context);var g=c("gkx")("1740404");g=g?k.jsx(c("ChatPluginMessengerBlurpleLogoSVG.react"),{height:24,width:24}):k.jsx(c("Image.react"),{className:"messengerIcon",src:j("1273954")});return k.jsxs("div",{className:"_95to _9j_q",children:[k.jsxs("div",{className:"promptHeaderContainer",children:[k.jsx("div",{className:"_95tx",children:g}),k.jsxs("div",{className:"_95tr",children:[k.jsx("div",{className:"_95ty",children:e}),k.jsx("div",{className:"_95tz",children:b})]})]}),k.jsxs("div",{className:"promptFooterContainer",children:[k.jsx("div",{className:"dismissButton footerButton",children:k.jsx(c("LiveChatPluginPromptButton.react"),{color:"rgba(0, 0, 0, .05)",hasIcon:!1,onClick:function(){c("MPNStorage").setShowUpgradePrompt(d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN),a.$2()},text:i._("L\u00fac kh\u00e1c")})}),k.jsx("div",{className:"continueButton footerButton",children:k.jsx(c("LiveChatPluginPromptButton.react"),{color:this.props.color,hasIcon:!0,onClick:function(){a.$1=d("MessagingPluginThreadActions").launchUpgradeFlowDesktop(a.context,a.props.history,f),a.$3()},text:i._("Ti\u1ebfp t\u1ee5c")})})]})]})};e.$3=function(){var a=this.context.state,b=a.guestID;a=a.pageID;d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",b,a,"upgrade_prompt",{button_name:"upgrade_prompt_continue",prompt_type:this.props.prompt})};e.$2=function(){var a=this.context,b=a.dispatchAction;a=a.state;var c=a.guestID;a=a.pageID;b({type:"UPDATE_UPGRADE_UPSELL_PROMPT",upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",c,a,"upgrade_prompt",{button_name:"upgrade_prompt_not_now",prompt_type:this.props.prompt})};return b}(k.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopSwitchAccountDropDownMenu.react",["cx","fbt","MessagingPluginContext","MessagingPluginThreadActions","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){var b=k(c("MessagingPluginContext"));return j.jsx("div",{"data-testid":void 0,className:"_9r5q _9r5r",children:j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:function(){d("MessagingPluginThreadActions").switchAccount(b)},className:"_9r5s",children:i._("Chuy\u1ec3n t\u00e0i kho\u1ea3n")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EllipsisText.react",["cx","DOMContainer.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.children instanceof Node?i.jsx(c("DOMContainer.react"),{children:a.children}):a.children;return i.jsx("span",{id:a.id,className:c("joinClasses")(a.className,"_6i6a"),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XChatPluginDesktopIncognitoLoginPopupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/chat/incognito_login/",{})}),null);
__d("XChatPluginProfilePlusVoiceSwitchPopupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/chat/voice_switch/",{})}),null);
__d("MPNDesktopWelcomePageBottomButtons.react",["cx","fbt","EllipsisText.react","LineClamp.react","LiveChatPluginLoggerUtil","MPNConstants","MPNIdentity","MPNLocalState","MPNMessengerIconSVG.react","MPNNavigation","MPNStorage","MPNXDMessageManager","MessagingPluginContext","MessagingPluginThreadActions","PopupWindow","ShimButton.react","XChatPluginDesktopIncognitoLoginPopupController","XChatPluginProfilePlusVoiceSwitchPopupController","gkx","performanceAbsoluteNow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=250;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$3=function(){var a=e.context,b=a.state,f=a.dispatchAction;a=b.pageID;var g=b.hasGuestMode,h=b.pagePassesSentryTest,i=b.hasMessagingPermission,j=b.isSanitizedEpd3pdRequest;b=d("MPNIdentity").MPNIdentity.currentUserState();var l=d("MPNIdentity").MPNIdentity.currentUserID();f({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});if(b==d("MPNIdentity").MPNIdentityState.FB&&l!=null){if(!h&&!i){(b=e.props.ActionDelegate)==null?void 0:b.openThreadWithInterstitial(function(){var a;(a=e.props.ActionDelegate)==null?void 0:a.openThreadWithCurrentFBUser();d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);f({type:"UPDATE_BLOCK_STATUS",isPageBlocked:!1})});return}d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);(l=e.props.ActionDelegate)==null?void 0:l.openThreadWithCurrentFBUser();d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"});return}d("MPNIdentity").MPNIdentity.performUIAction(function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){if(j){c("MPNXDMessageManager").reloadPlugin(!0);return}return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();if(a!=null){c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}));b={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};c("MPNStorage").setThirdPartyStorageState(b)}},k);if(d("MPNIdentity").MPNIdentity.isProfilePlusUserUncached()){d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});var a=c("XChatPluginProfilePlusVoiceSwitchPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)}else d("MessagingPluginThreadActions").presentPluginOptIn(e.context,!1,!1)},function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){c("MPNXDMessageManager").reloadPlugin(!0);return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}))},k);if(d("MPNIdentity").MPNIdentity.isProfilePlusUserUncached()){d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});var a=c("XChatPluginProfilePlusVoiceSwitchPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)}else d("MessagingPluginThreadActions").presentPluginOptIn(e.context,!1,!1)},function(){var a=c("XChatPluginDesktopIncognitoLoginPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"log_in_messenger"})},e.$1=function(){if(c("gkx")("716")){d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.EMAIL);return}var a=e.context,b=a.state;a=a.dispatchAction;b=b.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});d("MPNIdentity").MPNIdentity.performUIAction(e.$5,function(){var a=c("MPNStorage").getFBStorageState();a==null?a={requestID:c("MPNStorage").requestID,currentPath:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,userID:"0",chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,accessToken:null,expirationTimestamp:null,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}:a=babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION});c("MPNStorage").setFBStorageState(a);c("MPNXDMessageManager").reloadPlugin()},function(){var a=e.context.dispatchAction;a({type:"UPDATE_COOKIE_ACCESS_DENIED",cookieAccessDenied:!0});e.$5()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},e.$5=function(){var a=e.context.state.isSanitizedEpd3pdRequest;if(a){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}));c("MPNXDMessageManager").reloadPlugin(!0)}else d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),e.props.ActionDelegate&&e.props.ActionDelegate.onContinueAsGuest(function(){})},e.$2=function(){var a=e.context,b=a.state;a=a.dispatchAction;b=b.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});d("MPNIdentity").MPNIdentity.performUIAction(function(){d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW)},function(){d("MPNIdentity").MPNIdentity.clearUserChangesSubscription(),c("MPNStorage").setPath(d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),c("MPNXDMessageManager").reloadPlugin()},function(){c("MPNStorage").clearThirdPartyStorageState(),c("MPNXDMessageManager").reloadPlugin()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b,"itp_page",{button_name:"continue"})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.context.state,b=a.hasGuestMode;a=a.threadCSSColor;var e=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;e=c("gkx")("1189683");e=!b&&!e;b=b?j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:this.$1,className:"_909e",children:j.jsx(c("LineClamp.react"),{lines:1,children:i._("Ti\u1ebfp t\u1ee5c v\u1edbi vai tr\u00f2 kh\u00e1ch")})}):null;var f=c("gkx")("3374")?null:j.jsx(c("MPNMessengerIconSVG.react"),{});return this.props.useITPContinueButton?j.jsx("div",{className:"_909c",children:j.jsx(c("ShimButton.react"),{onClick:this.$2,className:"_909d",style:{backgroundColor:a},children:j.jsx(c("LineClamp.react"),{className:"continueText",lines:1,children:i._("Ti\u1ebfp t\u1ee5c")})})}):j.jsxs("div",{className:(e?"":"_909c")+(e?" _9ihg":""),children:[j.jsxs(c("ShimButton.react"),{"data-testid":void 0,onClick:this.$3,className:"_909d",style:{backgroundColor:a},children:[f,j.jsx(c("EllipsisText.react"),{className:"continueText _4mr9",children:this.$4()})]}),b]})};e.$4=function(){var a,b=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;a=(a=d("MPNIdentity").MPNIdentity.currentUser())==null?void 0:a.shortName;if(!b)if(this.context.state.shouldUseChatInMessengerCTA)return i._("Chat trong Messenger");else return i._("\u0110\u0103ng nh\u1eadp v\u00e0o Messenger");return a!==null?i._("Ti\u1ebfp t\u1ee5c d\u01b0\u1edbi t\u00ean {first name}",[i._param("first name",a)]):i._("Ti\u1ebfp t\u1ee5c")};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopInformationDropDownMenu.react",["cx","fbt","MessagingPluginContext","ShimButton.react","URI","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){a=k(c("MessagingPluginContext"));var b=a.state.pageID;return j.jsxs("div",{"data-testid":void 0,className:"_9r5q _9r8t",children:[j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/"+b)},className:"_9r5s",children:i._("Truy c\u1eadp Trang Facebook")}),j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},className:"_9r5s",children:i._("Th\u00eam Messenger v\u00e0o trang web c\u1ee7a b\u1ea1n")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopWelcomePageModalView.react",["cx","fbt","ix","BasePopoverTrigger.react","ChatPluginMessengerAttribution.react","ChatPluginSetupFlowE2ETestUtils","CometPressable.react","FlexLayout.react","Image.react","LineClamp.react","LiveChatPluginConstants","LiveChatPluginFbts","MPNConstants","MPNDesktopSwitchAccountDropDownMenu.react","MPNDesktopWelcomePageBottomButtons.react","MPNHeaderActionButton.react","MPNIdentity","MPNMinusButtonSVG.react","MPNMoreInfoButtonSVG.react","MPNPrivacyText.react","MPNVerifiedBadge.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginDesktopInformationDropDownMenu.react","MessagingPluginDesktopProfilePicture.react","ReactDOM","XCookiesPolicyControllerRouteBuilder","XDataPolicyController","XTermsController","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");c("stylex").inject(".lcfup58g{padding-left:4px}",1,".lcfup58g{padding-right:4px}");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.modalSheetRef=k.createRef(),c.$2=function(a){a.stopPropagation()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this,b=this.context.state.hasGuestMode;window.setTimeout(function(){return a.$1(b)},0)};e.render=function(){var a=this,b=this.context.state,e=b.pageVerifiedStatus,f=b.alignment;b=b.uiPolishEnabled;var g=this.context.state,h=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;c("gkx")("1189683");c("XTermsController").getURIBuilder().getURI().toString();c("XDataPolicyController").getURIBuilder().getURI().toString();c("XCookiesPolicyControllerRouteBuilder").buildURL({});var l=i._("Chat v\u1edbi {pageName}",[i._param("pageName",g.pageName)]);return k.jsx("div",{"data-testid":void 0,ref:this.modalSheetRef,className:"_94vf"+(b&&f==="left"?" _9pmu":"")+(b&&f==="right"?" _9pmv":""),onClick:this.$2,role:"none",children:k.jsxs("div",{className:"welcomePageModalSheetContent",children:[k.jsxs("div",{className:"_9095",children:[k.jsx(c("MessagingPluginDesktopProfilePicture.react"),{className:"_9096",greenDotSize:d("MPNConstants").MPNGreenDotSize.LARGE}),k.jsx("div",{className:"_9dxh"}),k.jsxs("div",{className:"_9dzn",children:[h?k.jsx(c("BasePopoverTrigger.react"),{align:"middle",popover:c("MPNDesktopSwitchAccountDropDownMenu.react"),popoverProps:{},children:function(a,b){return k.jsx("div",{ref:a,className:"_97lh",children:k.jsxs(c("CometPressable.react"),{testid:void 0,onPress:b,overlayRadius:6,children:[k.jsx(c("Image.react"),{className:"_95lg _97lg",src:g.viewerProfilePicureUri}),k.jsx(c("Image.react"),{className:"_97lc",src:j("481882")})]})})}}):null,k.jsx(c("BasePopoverTrigger.react"),{popover:c("MessagingPluginDesktopInformationDropDownMenu.react"),popoverProps:{},children:function(a,b){return k.jsx("div",{ref:a,children:k.jsx(c("MPNHeaderActionButton.react"),{label:i._("Xem th\u00eam"),onPress:b,children:k.jsx(c("MPNMoreInfoButtonSVG.react"),{})})})}}),k.jsx("div",{"data-testid":void 0,className:"_9q4i",children:k.jsx(c("MPNHeaderActionButton.react"),{label:i._("\u0111\u00f3ng"),onPress:function(){var b;return(b=a.props.ActionDelegate)==null?void 0:b.minimize()},children:k.jsx(c("MPNMinusButtonSVG.react"),{})})})]})]}),k.jsxs(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_9099",children:[k.jsx(c("LineClamp.react"),{lines:1,children:k.jsx("strong",{children:l})}),e&&e!=="not_verified"?k.jsx("span",{className:"lcfup58g",children:k.jsx(c("MPNVerifiedBadge.react"),{verificationStatus:e,size:18})}):null]}),k.jsx(c("LineClamp.react"),{className:"_909a",lines:1,children:g.pageResponsiveness}),k.jsx(c("LineClamp.react"),{className:"_909b",lines:3,children:h?g.loggedInGreeting:(b=g.loggedOutGreeting)!=null?b:d("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()}),k.jsx(c("MPNDesktopWelcomePageBottomButtons.react"),babelHelpers["extends"]({},this.props)),k.jsx(c("MPNPrivacyText.react"),{useITPContinueButton:this.props.useITPContinueButton}),k.jsx(c("ChatPluginMessengerAttribution.react"),{})]})})};e.$1=function(a){var b=d("ReactDOM").findDOMNode(this.modalSheetRef.current),e=c("gkx")("3374")?d("LiveChatPluginConstants").WELCOME_PAGE_GUEST_FALLBACK_HEIGHT_WITH_ATTRIBUTION:d("LiveChatPluginConstants").WELCOME_PAGE_GUEST_FALLBACK_HEIGHT,f=c("gkx")("3374")?d("LiveChatPluginConstants").WELCOME_PAGE_NO_GUEST_FALLBACK_HEIGHT_WITH_ATTRIBUTION:d("LiveChatPluginConstants").WELCOME_PAGE_NO_GUEST_FALLBACK_HEIGHT;a=a?e:f;b instanceof HTMLElement&&(a=b.offsetHeight);e=a+d("LiveChatPluginConstants").WELCOME_PAGE_PADDING_HEIGHT;c("MPNXDMessageManager").resizeIframe(e)};return b}(k.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopWelcomePageModal.react",["cx","BootloaderResource","JSResource","MPNDesktopWelcomePageModalView.react","MessagingPluginContext","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){return i.jsx("div",{children:i.jsx("div",{role:"none",onMouseEnter:function(){d("BootloaderResource").preload(c("JSResource")("MessagingPluginDialogBody.react").__setRef("MPNDesktopWelcomePageModal.react"))},className:"_94ve",children:i.jsx(c("MPNDesktopWelcomePageModalView.react"),babelHelpers["extends"]({},this.props))})})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopITPContinuePage.react",["LiveChatPluginLoggerUtil","MPNDesktopWelcomePageModal.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=this.context.state,b=a.alignment,e=a.bottomSpacing,f=a.sideSpacing,g=a.pageID,h=a.pluginMountTime;a=a.shouldIconDelay;c("MPNXDMessageManager").setupDesktopIframe(b,e,f,d("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE,a);d("LiveChatPluginLoggerUtil").logImpressionUsingFalco(g,"itp_page",h,["continue"])};e.render=function(){try{return h.jsx(c("MPNDesktopWelcomePageModal.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,useITPContinueButton:!0})}catch(a){d("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",this.context.state.pageID,"itp_page",a.name,a.message,a.stack)}};return b}(h.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopIcon.react",["ClickableArea.react","LiveChatPluginEntryPointIcon.react","LiveChatPluginLoggerUtil","LiveChatPluginMessengerIconSVGWithColor.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={visibility:c.props.initialVisibility,disabled:!1},c.$1=function(){if(c.state.disabled==!0)return;else c.props.actionDelegate.togglePluginVisibility(),c.setState({disabled:!0}),window.setTimeout(function(){c.setState({disabled:!1})},350)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=c("gkx")("3374")?this.props.entryPointIcon:null;d("LiveChatPluginLoggerUtil").logImpressionUsingXController(this.props.pageID,"plugin_icon",this.props.pluginRequestTime,null,null,null,null,this.props.clientRequestTime,null,a)};e.render=function(){return h.jsx(c("ClickableArea.react"),{"data-testid":void 0,onClick:this.$1,children:h.jsx("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60",cursor:"pointer",children:c("gkx")("3374")?h.jsx(c("LiveChatPluginEntryPointIcon.react"),{entryPointIcon:this.props.entryPointIcon,threadColor:this.props.threadColor}):h.jsx(c("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:this.props.threadColor})})})};return b}(h.Component);g["default"]=a}),98);
__d("MPNDesktopMessageComposer.react",["cx","fbt","AbstractTextInput.react","AsyncRequest","JSResource","Keys","LiveChatPluginAttachmentUploadError","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposerAttachmentShelf.react","LiveChatPluginSendButtonSVG.react","MPNDesktopBotMenuButton.react","MPNDesktopGuestAttachmentButton.react","MPNIdentity","MPNLocalState","MPNPaperclipIconSVG.react","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MessagingPluginContext","ShimButton.react","Tooltip.react","XMNMessagingPluginActiveSessionController","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResource")("MPNAttachmentInput.react").__setRef("MPNDesktopMessageComposer.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;f=a.call(this,b,e)||this;f.state={attachmentsDataMap:new Map(),error:c("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:"",uploadingAttachments:new Set()};f.$18=function(a){f.props.onChange(),f.setState({error:c("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:a.target.value})};f.$19=function(a){a.keyCode===c("Keys").RETURN&&(a.preventDefault(),f.$17())};f.$17=function(){var a=d("MPNIdentity").MPNIdentity.currentUserState();a===d("MPNIdentity").MPNIdentityState.FB?f.$20():a===d("MPNIdentity").MPNIdentityState.GUEST&&f.$21();f.context.state.hasActiveAutomation&&d("LiveChatPluginLoggerUtil").logAction("automation_freeform_message_sent",d("MPNIdentity").MPNIdentity.currentUserID(),f.context.state.pageID)};f.$11=function(a){f.$2&&f.$2.removeAttachment(a)};f.$15=function(a){f.setState({error:a})};f.$16=function(a,b,d,e,g,h){d&&(f.$1=d),e&&(f.$3=e),g&&(f.$4=g),h&&(f.$10=h),f.setState({attachmentsDataMap:new Map(a),error:c("LiveChatPluginAttachmentUploadError").NO_ERROR,uploadingAttachments:new Set(b)}),f.focus()};b=f.context.state.pageID;e=d("MPNIdentity").MPNIdentity.currentUserID();if(e==null)return babelHelpers.assertThisInitialized(f);f.$6=c("MercuryMessageActions").getForFBID(e);f.$7=c("MercuryMessageObject").getForFBID(e);f.$8=d("MercuryIDs").getThreadIDFromUserID(b);f.$9=d("LiveChatPluginLoggerUtil").getAttributionTags();f.$1=[];f.$3=[];f.$4=[];f.$10=[];return f}var e=b.prototype;e.componentDidMount=function(){this.focus()};e.render=function(){return j.jsxs("div",{className:(this.context.state.isComposerDisabled?"_664i":"")+" _94vs",children:[j.jsx(c("LiveChatPluginMessageComposerAttachmentShelf.react"),{attachments:this.state.attachmentsDataMap,error:this.state.error,removeAttachment:this.$11,threadColor:this.context.state.threadColor,uploadingAttachments:this.state.uploadingAttachments}),j.jsxs("div",{className:"_94vt",children:[this.$12(),this.$13(),this.$14()]})]})};e.$12=function(){var a=this,b=this.context.state,e=b.isComposerDisabled,f=b.optimisticStorageState;b=b.showUpgradeUpsellPrompt;if(e||f.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED)return null;if(d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.GUEST)if(b===!0)return j.jsx(c("MPNDesktopGuestAttachmentButton.react"),{threadColor:this.context.state.threadCSSColor});else return null;e=d("MPNIdentity").MPNIdentity.currentUserID();return e==null?null:j.jsx(j.Suspense,{fallback:j.jsx("div",{className:"_95jj",children:j.jsx(c("MPNPaperclipIconSVG.react"),{color:this.context.state.threadCSSColor})}),children:j.jsx(k,{pageID:this.context.state.pageID,ref:function(b){a.$2=b},setComposerAttachmentError:this.$15,updateComposerAttachmentsAndIDs:this.$16,viewerID:e,isMobile:!1})})};e.$14=function(){var a=this.context.state,b=a.isComposerDisabled;a=a.threadCSSColor;var d=this.state.inputValue.trim();d=d.length===0&&this.state.attachmentsDataMap.size===0;return d||b?j.jsx(c("MPNDesktopBotMenuButton.react"),{onClick:this.props.onClick}):j.jsx(c("Tooltip.react"),{tooltip:"Send",children:j.jsx(c("ShimButton.react"),{"aria-label":i._("G\u1eedi"),className:"_4bqf _95jk _9jru","data-testid":void 0,onClick:this.$17,children:j.jsx(c("LiveChatPluginSendButtonSVG.react"),{threadColor:a})})})};e.$13=function(){var a=this,b=this.context.state.isComposerDisabled,d=i._("T\u00ednh n\u0103ng nh\u1eadp b\u1ecb v\u00f4 hi\u1ec7u h\u00f3a \u0111\u1ed1i v\u1edbi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y.");return b?j.jsx("div",{className:"_664k",children:d}):j.jsx("div",{className:"_94vv",children:j.jsx(c("AbstractTextInput.react"),{"data-testid":void 0,onBlur:this.props.onBlur,onChange:this.$18,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:this.$19,ref:function(b){a.$5=b},placeholder:i._("B\u1ea1n h\u1ecfi g\u00ec \u0111i...").toString(),value:this.state.inputValue})})};e.$21=function(){var a=this.context.state,b=a.locale,c=a.refererUri;if(!a.messageStore||!a.messageStore.sendQueue)return;var e=a.messageStore.sendQueue,f=this.state.inputValue.trim();f&&f.length>0&&e.enqueueAndSend(f,!1,b,c,null);this.setState({inputValue:""});d("LiveChatPluginLoggerUtil").logActionUsingFalco(a.guestID,a.pageID,"guest_chat_tab","message_send")};e.$20=function(){var a=this,b=this.context.state,e=b.pageID,f=b.locale;b=b.refererUri;var g=d("MPNIdentity").MPNIdentity.currentUserID();if(this.state.uploadingAttachments.size!==0)return;var h=this.state.inputValue.trim();if(h&&h.length>0||this.state.attachmentsDataMap.size>0){var i=this.$7.constructUserGeneratedMessageObject(h,"source:discovery:customer_chat_plugin",this.$8,null,null,this.$9);this.$4.length>0&&(i.has_attachment=!0,i.image_ids=this.$4);this.$1.length>0&&(i.has_attachment=!0,i.gif_ids=this.$1);this.$10.length>0&&(i.has_attachment=!0,i.video_ids=this.$10);this.$3.length>0&&(i.has_attachment=!0,i.file_ids=this.$3);if(g!=null){h=c("XMNMessagingPluginActiveSessionController").getURIBuilder().setFBID("page_id",e).setFBID("user_id",g).setString("locale",f).setString("referer_uri",b).getURI();new(c("AsyncRequest"))().setURI(h).setHandler(function(b){a.$6.send(i)}).send()}this.setState({inputValue:""});this.$22();d("LiveChatPluginLoggerUtil").logAction("customer_chat_message_sent",g,e,this.state.attachmentsDataMap.size>0?JSON.stringify({attachments:Array.from(this.state.attachmentsDataMap.keys())}):null);d("LiveChatPluginLoggerUtil").logActionUsingFalco((f=g)!=null?f:"",this.context.state.pageID,"logged_in_chat_tab","message_send")}};e.$22=function(){this.$2&&this.$2.removeAllAttachments()};e.focus=function(){this.$5&&this.$5.focusInput()};return b}(j.PureComponent);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopThreadPage.react",["cx","JSResource","LiveChatPluginConstants","LiveChatPluginLoggerUtil","MPNBlockedPageComposer.react","MPNConstants","MPNDesktopDialogHeader.react","MPNDesktopGuestUpgradeUpsellPrompt.react","MPNDesktopMessageComposer.react","MPNEndChatPrompt.react","MPNEndChatPromptV2.react","MPNIdentity","MPNLocalState","MPNUpgradePopover.react","MPNXDMessageManager","MessagingPluginContext","MessengerSpinner.react","MessengerState.bs","gkx","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("MessagingPluginDialogBody.react").__setRef("MPNDesktopThreadPage.react")),k=c("lazyLoadComponent")(c("JSResource")("MPNEmailPopover").__setRef("MPNDesktopThreadPage.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogBodyHeight:-1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=d("LiveChatPluginConstants").THREAD_PAGE_HEIGHT+d("LiveChatPluginConstants").THREAD_PAGE_PADDING_HEIGHT;c("MPNXDMessageManager").resizeIframe(a)};e.render=function(){var a=this,b=this.context.state,e=b.optimisticStorageState,f=b.pageID,g=b.isPageBlocked,h=b.showUpgradeUpsellPrompt;b=b.useNewUpgradeTriggersWithNewDesign;var l=d("MPNIdentity").MPNIdentity.currentUserID(),m=d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.GUEST;try{return i.jsx("div",{role:"none",className:"_94vg",children:i.jsx("div",{className:e.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED?"_91hz":"",children:i.jsxs("div",{className:"_94vh",children:[i.jsx(c("MPNDesktopDialogHeader.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history}),c("gkx")("1896")&&m===!0?i.jsx(i.Suspense,{fallback:null,children:i.jsx(k,{})}):i.jsx(c("MPNUpgradePopover.react"),{}),i.jsxs("div",{className:"_424s",children:[e.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED&&i.jsx("div",{className:"spinner",children:i.jsx(c("MessengerSpinner.react"),{color:"blue",size:c("MessengerSpinner.react").large_size})}),i.jsx(i.Suspense,{fallback:i.jsx("div",{className:"spinner",children:i.jsx(c("MessengerSpinner.react"),{color:"blue",size:c("MessengerSpinner.react").large_size})}),children:e.chatState!==d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED&&i.jsx(d("MessengerState.bs").jsComponent,{fbid:l,children:function(b){return i.jsx(j,{deliveryReceipt:d("MessengerState.bs").deliveryReceipts(b),dialogBodyHeight:a.state.dialogBodyHeight,messengerState:b,readReceipt:null,sendRef:function(){}})}})})]}),e.showUpgradePrompt==null||e.showUpgradePrompt===d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN||!h?null:i.jsx(c("MPNDesktopGuestUpgradeUpsellPrompt.react"),{color:this.context.state.threadCSSColor,prompt:this.context.state.optimisticStorageState.showUpgradePrompt,history:this.props.history}),b===!0&&m===!0&&h?i.jsx(c("MPNEndChatPromptV2.react"),{isGuest:m,history:this.props.history,shouldMinimize:!1}):i.jsx(c("MPNEndChatPrompt.react"),{isGuest:m,history:this.props.history,shouldMinimize:!1}),g&&e.chatState===d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED?i.jsx(c("MPNBlockedPageComposer.react"),{}):i.jsx(c("MPNDesktopMessageComposer.react"),{onBlur:function(){},onChange:function(){},onClick:function(){},onFocus:function(){},ref:function(b){return a.$1=b}})]},"dialog_container")})})}catch(a){d("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",f,d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB?"logged_in_chat_tab":"guest_chat_tab",a.name,a.message,a.stack)}};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDesktopWelcomePage.react",["LiveChatPluginLoggerUtil","MPNDesktopWelcomePageModal.react","MPNIdentity","MessagingPluginContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=this.context.state,b=a.pageID,c=a.pluginMountTime;a=a.hasGuestMode;var e=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;d("LiveChatPluginLoggerUtil").logImpressionUsingFalco(b,a?"welcome_page_with_guest_option":"welcome_page",c,a?[e?"continue_as":"chat_in_messenger","continue_as_guest"]:["chat_in_messenger"])};e.render=function(){try{return h.jsx(c("MPNDesktopWelcomePageModal.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,useITPContinueButton:!1})}catch(c){var a=this.context.state,b=a.pageID;a=a.hasGuestMode;d("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",b,a?"welcome_page_with_guest_option":"welcome_page",c.name,c.message,c.stack)}};return b}(h.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopWelcomeMessagePage.react",["cx","Arbiter","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNConstants","MPNLocalState","MPNNavigation","MPNWelcomeMessageMinusButtonSVG.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","ShimButton.react","react","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=j(c("MessagingPluginContext")),e=b.state,f=e.alignment,g=e.bottomSpacing,h=e.sideSpacing,n=e.loggedInGreeting,o=e.pageID,p=e.serverTime,q=e.clientRequestTime;e=m(!1);var r=e[0],s=e[1];e=l(null);var t=c("useResizeObserver")(function(a,b){a=b.clientHeight+12;c("MPNXDMessageManager").resizeIframe(a)});k(function(){var a=c("Arbiter").subscribe(d("LiveChatPluginConstants").NAVIGATE_TO_WELCOME_PAGE,function(a){s(!0),v()});return function(){a&&a.unsubscribe()}});k(function(){d("LiveChatPluginLoggerUtil").logImpressionUsingXController(o,"bubble",p,null,null,null,null,q)},[o,q,p]);var u=function(){a.ActionDelegate&&a.ActionDelegate.minimize(),window.setTimeout(function(){var e;d("MPNNavigation").navigateToRoute(a.history,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);c("MPNXDMessageManager").setupDesktopIframe((e=f)!=null?e:"right",(e=g)!=null?e:0,(e=h)!=null?e:0,d("MessagingPluginPathUtils").MPN_PATH.WELCOME,!1);e={path:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.HIDDEN};b.dispatchAction({type:"START_CHAT",optimisticStorageState:e})},100)},v=function(){window.setTimeout(function(){var e;d("MPNNavigation").navigateToRoute(a.history,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);c("MPNXDMessageManager").setupDesktopIframe((e=f)!=null?e:"right",(e=g)!=null?e:0,(e=h)!=null?e:0,d("MessagingPluginPathUtils").MPN_PATH.WELCOME,!0);e={path:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};b.dispatchAction({type:"START_CHAT",optimisticStorageState:e})},100)},w=f==="left"?"_9ptl":"_9ptk",x=f==="left"?"_9ptn":"_9ptm",y=f==="left"?"_9ptp":"_9pto";r=r?"_9po3":"_9po2";return i.jsxs("div",{className:r,ref:e,children:[i.jsx(c("ShimButton.react"),{onClick:function(){v(),d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b.state.pageID,"plugin_icon",{opened_tab:"bubble"})},children:i.jsx("div",{"data-testid":void 0,className:w,ref:t,children:i.jsx("div",{className:x,children:n!=null?n:d("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()})})}),i.jsx("div",{className:y,children:i.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:u,className:"_9pti",children:i.jsx(c("MPNWelcomeMessageMinusButtonSVG.react"),{})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopRoute.react",["cx","JSResource","MPNDesktopITPContinuePage.react","MPNDesktopThreadPage.react","MPNDesktopWelcomePage.react","MessagingPluginDesktopWelcomeMessagePage.react","MessagingPluginPathUtils","MessengerSpinner.react","ReactRouterDOM","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("ChatPluginGuestUserEmailCollection.react").__setRef("MPNDesktopRoute.react"));function a(a){var b=a.path,e=a.ActionDelegate;return i.jsx(d("ReactRouterDOM").BrowserRouter,{children:i.jsxs(d("ReactRouterDOM").Switch,{children:[i.jsx(d("ReactRouterDOM").Route,{render:function(a){return i.jsx(c("MPNDesktopWelcomePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.WELCOME}),i.jsx(d("ReactRouterDOM").Route,{render:function(a){return i.jsx(c("MPNDesktopITPContinuePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE}),i.jsx(d("ReactRouterDOM").Route,{render:function(a){return i.jsx(c("MPNDesktopThreadPage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.THREAD}),i.jsx(d("ReactRouterDOM").Route,{render:function(a){return i.jsx(c("MessagingPluginDesktopWelcomeMessagePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:e}))},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.BUBBLE}),i.jsx(d("ReactRouterDOM").Route,{render:function(a){return i.jsx(i.Suspense,{fallback:i.jsx("div",{className:"_9wnk",children:i.jsx("div",{style:{margin:"auto"},children:i.jsx(c("MessengerSpinner.react"),{color:"blue",size:c("MessengerSpinner.react").large_size})})}),children:i.jsx(j,babelHelpers["extends"]({},a,{ActionDelegate:e}))})},exact:!0,path:d("MessagingPluginPathUtils").MPN_PATH.EMAIL}),i.jsx(d("ReactRouterDOM").Redirect,{to:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopWrapper.react",["Arbiter","Bootloader","CreateCustomerChatPluginGuestUserMutation","LiveChatMqttClient","LiveChatPluginConstants","LiveChatPluginEntryPointIcon.react","LiveChatPluginLoggerUtil","LiveChatPluginMessengerIconSVGWithColor.react","MPNConstants","MPNDesktopIcon.react","MPNDesktopRoute.react","MPNIdentity","MPNLocalState","MPNNavigation","MPNStorage","MPNUnreadCountBadge.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginGuestUpgradeActions","MessagingPluginPathUtils","MessagingPluginSDKActionUtil","MessagingPluginThreadActions","ReactDOM","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={NONE:0,CREATE_GUEST_SESSION:1,START_NEW_THREAD:2,GUEST_UPGRADE:3,GUEST_UPGRADE_SWITCH_ACCOUNT:4};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.actionOnInit=i.NONE;c.iconIframeLoaded=!1;c.unreadCountIframeLoaded=!1;c.$2=null;c.initialPath=c.$5();if(c.props.redirectCommand!=null)switch(c.props.redirectCommand){case d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION:c.actionOnInit=i.CREATE_GUEST_SESSION;break;case d("MPNConstants").MPNRedirect.FB_LOG_IN:c.actionOnInit=i.START_NEW_THREAD;break;case d("MPNConstants").MPNRedirect.GUEST_UPGRADE:c.actionOnInit=i.GUEST_UPGRADE;break;case d("MPNConstants").MPNRedirect.GUEST_UPGRADE_SWITCH_ACCOUNT:c.actionOnInit=i.GUEST_UPGRADE_SWITCH_ACCOUNT;break;default:break}c.ActionDelegate={onContinueAsGuest:c.onContinueAsGuest.bind(babelHelpers.assertThisInitialized(c)),openThreadWithCurrentFBUser:function(){d("MessagingPluginThreadActions").openThreadWithCurrentFBUser(c.context)},openThreadWithInterstitial:function(a){d("MessagingPluginThreadActions").openThreadWithInterstitial(c.context,a)},onChatInMessenger:function(){},minimize:function(){d("MPNNavigation").minimizePlugin(c.context,!1)},maximize:function(){d("MPNNavigation").maximizePlugin(c.context,!1)},togglePluginVisibility:c.togglePluginVisibility.bind(babelHelpers.assertThisInitialized(c))};c.$1=window.name;return c}var e=b.prototype;e.$5=function(){var a=this.props.redirectCommand;return a===d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION||a===d("MPNConstants").MPNRedirect.FB_LOG_IN?d("MessagingPluginPathUtils").MPN_PATH.THREAD:this.props.path};e.componentDidMount=function(){var a=this.context.state,b=a.alignment,e=a.bottomSpacing,f=a.sideSpacing,g=a.shouldIconDelay,h=a.optimisticStorageState;a=a.isSDKRewriteEnabled;var i=this.initialPath===d("MessagingPluginPathUtils").MPN_PATH.BUBBLE||h.visibility==d("MPNConstants").MPNVisibility.NOT_HIDDEN;this.$6();c("MPNXDMessageManager").setupDesktopIframe(b,e,f,this.initialPath,a?i:h.visibility==d("MPNConstants").MPNVisibility.NOT_HIDDEN,g);this.initialPath===d("MessagingPluginPathUtils").MPN_PATH.BUBBLE&&(c("MPNStorage").setVisibility(d("MPNConstants").MPNVisibility.NOT_HIDDEN),this.context.dispatchAction({type:"UPDATE_DIALOG_VISIBILITY",dialogVisibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN}));this.$7();this.$8()};e.componentWillUnmount=function(){this.$3&&window.clearTimeout(this.$3),this.$4&&window.clearTimeout(this.$4)};e.componentDidUpdate=function(){this.$8()};e.$8=function(){var a=this,b=this.context.state,e=b.optimisticStorageState,f=b.pageID,g=b.pageName,h=b.accessToken;b=b.loggedInAccessToken;var i=d("MPNIdentity").MPNIdentity.currentUserID();if(this.$2==i||e.chatState===d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED||i==null)return;e=d("MPNIdentity").MPNIdentity.currentUserState();e===d("MPNIdentity").MPNIdentityState.FB&&(c("LiveChatMqttClient").setUp(f,i,null,function(){return a.$2=i},b),c("Bootloader").loadModules(["LiveChatPluginAlerts","MercurySyncDeltaHandler"],function(a,b){a.init(i,f,g,new Map(),!1,0),b.getForFBID(i),c("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:i,seqID:0})},"MPNDesktopWrapper.react"));e===d("MPNIdentity").MPNIdentityState.GUEST&&(h!=null&&(c("LiveChatMqttClient").setUp(f,i,null,null,h),this.$2=i))};e.$6=function(){var a=this,b=this.context.state,e=b.alignment,f=b.bottomSpacing,g=b.sideSpacing;b=b.uiPolishEnabled;var i=this.context.state,j=c("gkx")("3374")?h.jsx(c("LiveChatPluginEntryPointIcon.react"),{entryPointIcon:i.entryPointIcon,threadColor:i.threadCSSColor}):h.jsx(c("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:i.threadCSSColor});c("MPNXDMessageManager").setupIconIframe(this.$1,e,f,g,j,b,this.$9());c("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","bubbleFrameLoaded",function(b){try{if(b.data.frameName!=null&&!a.iconIframeLoaded){var e=h.jsx(c("MPNDesktopIcon.react"),{threadColor:i.threadCSSColor,entryPointIcon:i.entryPointIcon,actionDelegate:a.ActionDelegate,pageID:i.pageID,pluginRequestTime:i.serverTime,initialVisibility:i.optimisticStorageState.visibility,clientRequestTime:i.clientRequestTime}),f=parent.frames[b.data.frameName].document.body;d("ReactDOM").render(e,f);a.iconIframeLoaded=!0}if(b.data.unreadCountFrameName!=null){e=h.jsx(c("MPNUnreadCountBadge.react"),{});f=parent.frames[b.data.unreadCountFrameName].document.body;d("ReactDOM").render(e,f);a.unreadCountIframeLoaded=!0}a.$10()}catch(c){d("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",a.context.state.pageID,"plugin_icon",c.name,c.message,c.stack,JSON.stringify({eventData:b.data,unreadCountIframeLoaded:a.unreadCountIframeLoaded,iconIframeLoaded:a.iconIframeLoaded}))}})};e.$9=function(){var a=this.context.state,b=a.shouldIconDelay;a=a.optimisticStorageState;if(a.visibility===d("MPNConstants").MPNVisibility.NOT_HIDDEN)return a.path===d("MPNLocalState").MPNLocalStatePath.BUBBLE&&b;else return b};e.$10=function(){var a=this,b=this.context.state,c=b.greetingDialogDelay,e=b.greetingDialogDisplay;b=b.isInitialLoad;if(!b)return;b=!1;var f=0,g=c;switch(e){case"show":case"unset":b=c>0;break;case"fade":b=c>0;g=c;f=d("LiveChatPluginConstants").PLUGIN_FADE_DELAY;break;case"hide":b=!1;break;default:break}if(!b)return;this.$3=window.setTimeout(function(){a.$11(f)},g)};e.$11=function(a){var b=this,c=this.context.state.optimisticStorageState;c.visibility===d("MPNConstants").MPNVisibility.HIDDEN&&(d("MPNNavigation").maximizePlugin(this.context,!1),a&&(this.$4=window.setTimeout(function(){c.visibility!==d("MPNConstants").MPNVisibility.HIDDEN&&d("MPNNavigation").minimizePlugin(b.context,!1)},a)))};e.$7=function(){var a=this;c("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.SDK.Called",function(b){d("MessagingPluginSDKActionUtil").logSDKCalls(a.context,b)});c("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","updateCustomerChat",function(b){d("MessagingPluginSDKActionUtil").updateGreetingTextAndRefParam(a.context,b)});c("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.isDialogHidden",function(b){d("MessagingPluginSDKActionUtil").updateDialogVisibility(a.context,b)})};e.render=function(){switch(this.actionOnInit){case i.CREATE_GUEST_SESSION:this.actionOnInit=i.NONE;this.onContinueAsGuest(function(){c("MPNStorage").clearRedirectCommand()});break;case i.START_NEW_THREAD:this.actionOnInit=i.NONE;c("MPNStorage").clearRedirectCommand();d("MessagingPluginThreadActions").openThreadWithCurrentFBUser(this.context);break;case i.GUEST_UPGRADE:this.actionOnInit=i.NONE;c("MPNStorage").clearRedirectCommand();d("MessagingPluginGuestUpgradeActions").clearGuestStorage(this.context);d("MessagingPluginGuestUpgradeActions").setPluginStateToUpgradedThread(this.context);break;case i.GUEST_UPGRADE_SWITCH_ACCOUNT:this.actionOnInit=i.NONE;c("MPNStorage").clearRedirectCommand();d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.GUEST_UPGRADE}));c("MPNXDMessageManager").reloadPlugin()},250);break;default:break}return this.context.state.optimisticStorageState.visibility==d("MPNConstants").MPNVisibility.NOT_HIDDEN||this.iconIframeLoaded?h.jsx(c("MPNDesktopRoute.react"),{path:this.initialPath,ActionDelegate:this.ActionDelegate}):null};e.onContinueAsGuest=function(a){var b=this,e=this.context.state,f=e.pageID;e=e.locale;d("CreateCustomerChatPluginGuestUserMutation").commit({input:{page_id:f,locale:e}},{onSuccess:function(c){c=c.create_customer_chat_plugin_guest_user;var e=c==null?void 0:c.session_key,f=c==null?void 0:c.fbid,g=c==null?void 0:c.access_token;c=c==null?void 0:c.is_lightswitch_enabled;e!=null&&f!=null&&g!=null&&c!=null&&(d("MessagingPluginThreadActions").startChatAsGuest(b.context,g,f,c),a(f,g))},onFailure:function(a){c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState(),c("MPNXDMessageManager").reloadPlugin(),d("LiveChatPluginLoggerUtil").logNewAction("guest_session_create_failure",null,f,"guest_chat_tab")}})};e.togglePluginVisibility=function(){var a=this.context.state.optimisticStorageState;if(a.path==d("MPNLocalState").MPNLocalStatePath.BUBBLE){d("MPNNavigation").maximizePlugin(this.context,!1);return}a.visibility===d("MPNConstants").MPNVisibility.NOT_HIDDEN?d("MPNNavigation").minimizePlugin(this.context,!1):a.visibility===d("MPNConstants").MPNVisibility.HIDDEN&&d("MPNNavigation").maximizePlugin(this.context,!1)};return b}(h.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDesktopRoot",["cx","CometBlueBridgeKeyCommandListener.react","LiveChatPluginErrorBoundary.react","MPNCacheVersioning","MPNConstants","MPNDesktopWrapper.react","MPNIdentity","MPNLocalState","MPNStorage","MPNXDMessageManager","MessagingPluginPathUtils","MessagingPluginStateProvider","ReactDOM","URI","performanceAbsoluteNow","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(){function a(a){var b=a.alignment,c=a.pageID,d=a.container,e=a.serverTime,f=a.clientRequestTime,g=a.pagePassesSentryTest,h=a.hasMessagingPermission,i=a.isMuted,j=a.isPageBlocked,k=a.isBusinessActive,l=a.requestID,m=a.refererUri,n=a.originDomain,o=a.soundURLs,p=a.hasGuestMode,q=a.showUpgradeUpsellPrompt,r=a.hasAutomation,s=a.appSwitchUri,t=a.upgradeAppSwitchUri,u=a.storedStates,v=a.isComposerDisabled,w=a.hasPersistentMenu,x=a.pageName,y=a.pageProfilePictureUri,z=a.viewerProfilePicureUri,A=a.pageResponsiveness,B=a.isInstantlyResponsive,C=a.refParam,D=a.pageVerifiedStatus,E=a.greetingDialogDelay,F=a.greetingDialogDisplay,G=a.loggedInGreeting,H=a.loggedOutGreeting,I=a.threadCSSColor,J=a.entryPointIcon,K=a.locale,L=a.icebreakers,M=a.icebreakerCtas,N=a.bottomSpacing,O=a.sideSpacing,P=a.isPageInEU,Q=a.threadExists,R=a.uiPolishEnabled,S=a.shouldShowWelcomeMessageBubble,T=a.shouldIconDelay,U=a.loggedInAccessToken,V=a.isSanitizedEpd3pdRequest,W=a.useNewUpgradeTriggersWithNewDesign,X=a.useNewUpgradeDesignWithOldTriggers,aa=a.shouldShowThreadHeaderResponsivenessText;a=a.isSDKRewriteEnabled;try{this.$1(b,c,d,e,f,g,h,i,j,k,l,m,n,o,s,t,p,q,r,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,aa,a)}catch(a){}}var b=a.prototype;b.$1=function(a,b,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,aa,ba,ca,da){var ea=this;c("MPNXDMessageManager").setIsSDKRewriteEnabled(da);var fa=!1;c("MPNStorage").initialize(p,b,n);d("MPNIdentity").MPNIdentity.hasStorageAccess(function(ga){d("MPNIdentity").MPNIdentity.init(ga,X);var ha=n,Y=w;Y&&(d("MPNCacheVersioning").isLatestVersion(Y.v)||(c("MPNStorage").clearThirdPartyStorageState(),Y=null));Y||(Y=ea.$2(H,G,U),c("MPNStorage").setThirdPartyStorageState(Y));var ia=!1,ja,ka,la=Y.visibility;if(ga){var Z,$=c("MPNStorage").getFBStorageState();Z=(Z=$)==null?void 0:Z.rdr;Z==null&&!d("MPNCacheVersioning").isLatestVersion((Z=$)==null?void 0:Z.v)&&(c("MPNStorage").clearFBStorageState(),$=c("MPNStorage").getFBStorageState());c("MPNStorage").isAccessTokenExpired()&&(c("MPNStorage").clearFBStorageState(),Y=ea.$2(H,G,U),c("MPNStorage").setThirdPartyStorageState(Y));if($!=null&&$.requestID!=null&&$.requestID!=""){Z=$.requestID;($.rdr===d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION||$.rdr===d("MPNConstants").MPNRedirect.ITP_CONTINUE_SESSION)&&(ha=Z,c("MPNStorage").initialize(p,b,Z))}fa=c("MPNStorage").setInitialStateIfNecessary(!1,la,H,U);$=c("MPNStorage").getFBStorageState();if($!=null){ia=$.chatState!=d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED;ja=$.accessToken;ka=$.userID;la=$.visibility;Y=babelHelpers["extends"]({},Y,{path:$.currentPath,chatState:$.chatState,visibility:$.visibility,showUpgradePrompt:(Z=$.showUpgradePrompt)!=null?Z:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN});c("MPNStorage").setThirdPartyStorageState(Y)}}$=ea.$3(ga,Y);da||(la===d("MPNConstants").MPNVisibility.HIDDEN&&$!=d("MessagingPluginPathUtils").MPN_PATH.BUBBLE&&c("MPNXDMessageManager").updateAppearance(!0,!0,"false","false",null,a,$,!0),$===d("MessagingPluginPathUtils").MPN_PATH.BUBBLE&&c("MPNXDMessageManager").updateAppearance(!0,!1,"false","false",null,a,$,!0));d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});Z={alignment:a,pageID:b,pageName:z,pagePassesSentryTest:h,hasMessagingPermission:j,isMuted:k,isPageBlocked:l,pageProfilePictureUri:A,viewerProfilePicureUri:B,threadCSSColor:K,entryPointIcon:L,pageResponsiveness:C,isInstantlyResponsive:D,isComposerDisabled:x,hasActiveAutomation:!1,hasPersistentMenu:y,greetingDialogDelay:G,greetingDialogDisplay:H,loggedInGreeting:I,loggedOutGreeting:J,refParam:E,refererUri:o,originDomain:p,appSwitchUri:r,upgradeAppSwitchUri:s,locale:M,isBusinessActive:m,icebreakers:N,icebreakerCtas:O,pageVerifiedStatus:F,initialRequestUri:c("URI").getRequestURI(),requestID:ha,bottomSpacing:P,sideSpacing:Q,chatStarted:ia,accessToken:ja,guestID:ka,optimisticStorageState:Y,soundURLs:q,isInitialLoad:fa,hasGuestMode:t,showUpgradeUpsellPrompt:u,pluginMountTime:c("performanceAbsoluteNow")(),serverTime:f,clientRequestTime:g,upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,messageCount:null,cookieAccessDenied:!1,hasAutomation:v&&!R,isPageInEU:R,threadExists:S,uiPolishEnabled:T,shouldIconDelay:V,isLightswitchEnabledForGuest:!1,loggedInAccessToken:W,isSanitizedEpd3pdRequest:X,useNewUpgradeTriggersWithNewDesign:aa,useNewUpgradeDesignWithOldTriggers:ba,shouldShowThreadHeaderResponsivenessText:ca,isSDKRewriteEnabled:da};d("ReactDOM").render(i.jsx(c("LiveChatPluginErrorBoundary.react"),{pageID:b,children:i.jsx(c("CometBlueBridgeKeyCommandListener.react"),{children:i.jsx(c("MessagingPluginStateProvider"),{initialState:Z,children:i.jsx("div",{className:"_95ry",children:i.jsx(c("MPNDesktopWrapper.react"),{path:$,redirectCommand:c("MPNStorage").getRedirectCommand()})})})})}),e)})};b.$2=function(a,b,c){if(c&&a==="hide")return{path:d("MPNLocalState").MPNLocalStatePath.BUBBLE,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};c=a==="hide"||a==="icon"||b>0;return{path:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:c?d("MPNConstants").MPNVisibility.HIDDEN:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN}};b.$3=function(a,b){var e=d("MessagingPluginPathUtils").MPN_PATH.WELCOME;if(a){a=c("MPNStorage").getFBStorageState();a!=null&&a.currentPath!=null?d("MPNIdentity").MPNIdentity.isITPUserAgent()&&a.currentPath===d("MPNLocalState").MPNLocalStatePath.BUBBLE?(e=d("MessagingPluginPathUtils").MPN_PATH.WELCOME,c("MPNXDMessageManager").storeThirdPartyState(d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,a.chatState)):(e=d("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(a.currentPath),c("MPNXDMessageManager").storeThirdPartyState(a.currentPath,a.chatState)):b!=null&&a==null&&c("MPNXDMessageManager").removeThirdPartyState()}else b!=null&&b.path!=null&&(e=d("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(b.path)),e==d("MessagingPluginPathUtils").MPN_PATH.THREAD&&(e=d("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE);return e};return a}();g["default"]=a}),98);